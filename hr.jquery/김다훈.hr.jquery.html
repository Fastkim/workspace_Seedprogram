<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <title>hr</title>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <link href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css' rel='stylesheet'>
        <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css' rel='stylesheet'>
        <script src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js'></script>
        <script src='https://code.jquery.com/jquery-3.6.0.min.js'></script>     
    </head>
    <script>
    $(() => {
        // 피드백(개선점) : 추가되는 데이터가 최상단에 나오게.
        lastId = 13
        // 추가
        $('#add').click(() => {
            if( ($('#laborerName').val() && $('#hireDate').val())) {
                $(`<tr><td><input type="radio" name="data"/></td>
                <td>${++lastId}</td><td>${$('#laborerName').val()}</td><td>${$('#hireDate').val()}</td></tr>`).prependTo($('tbody'))
            }
        })

        
        $('#tb').on('change', '.c', function() {
            last = $(this).last()

            $('#update').click(() => {
                // 이름 업데이트
                last.children('td:eq(2)').empty()
                last.children('td:eq(2)').append($('#laborerName').val())

                // 입사일 업데이트
                last.children('td:eq(3)').empty()
                last.children('td:eq(3)').append($('#hireDate').val())
            })

            // 삭제
            $('#deleteYes').click(() => {
                last.empty()
            })
            
        })
    })

    </script>
    <body>
        <span></span>
        <div class='container'>
            <div class='row mb-5'>
                <div class='col'>
                    <header class='p-2 bg-light shadow'>
                        <h1 class='text-center'><b>HR</b></h1>
                    </header>
                </div>
            </div>
            <div class='row'>
                <div class='col'>
                    <form>
                        <div class='row mb-3'>
                            <div class='col-2'>
                                <input type='text' class='form-control' placeholder='노동자명' id='laborerName' value=''/>
                            </div>
                            <div class='col-5'>
                                <div class='row'>
                                    <div class='col-4 d-none d-md-inline text-end align-bottom pt-2'>
                                        <label for='hireDate'>입사일: </label>
                                    </div>
                                    <div class='col'>
                                        <input type='date' class='form-control' id='hireDate'/>
                                    </div>
                                </div>
                            </div>
                            <div class='col'>
                                <div class='d-flex gap-2 justify-content-end'>
                                    <button type='button' class='btn btn-primary col-4' id='add'>
                                        <i class='bi bi-plus-circle'></i>
                                        <span class='label d-none d-md-inline'>&nbsp;추가</span>
                                    </button>
                                    <button type='button' class='btn btn-success col-4' id='update'>
                                        <i class='bi bi-check-circle'></i>
                                        <span class='label d-none d-md-inline'>&nbsp;수정</span>
                                    </button>
                                    <button type='button' class='btn btn-danger col-4'
                                        data-bs-toggle='modal' data-bs-target='#delLaborerModal' id='delete'> 
                                        <i class='bi bi-x-circle'></i>
                                        <span class='label d-none d-md-inline'>&nbsp;삭제</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class='row'>
                            <div class='col'>
                                <table class='table'>
                                    <thead class='table-warning'>
                                        <tr><th></th><th>ID</th><th>이름</th><th>입사일</th></tr>
                                    </thead>
                                    <tbody id='tb'>
                                        <tr class='c'>
                                            <td><input type='radio' name='data'/></td>
                                            <td>12</td>
                                            <td>최한석</td>
                                            <td>2025-12-12</td>
                                        </tr>
                                        <tr class='c'>
                                            <td><input type='radio' name='data'/></td>
                                            <td>13</td>
                                            <td>한아름</td>
                                            <td>2025-05-05</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class='modal fade' id='delLaborerModal'>
            <div class='modal-dialog'>
                <div class='modal-content'>
                    <div class='modal-header'>
                        <button type='button' class='btn-close' data-bs-dismiss='modal'></button>
                    </div>
                    <div class='modal-body'>
                        <p>노동자를 삭제하시겠습니까?</p>
                    </div>
                    <div class='modal-footer'>
                        <button type='button' class='btn btn-primary' id='deleteYes' data-bs-dismiss='modal'>예</button>
                        <button type='button' class='btn btn-secondary' 
                        data-bs-dismiss='modal'>아니오</button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>